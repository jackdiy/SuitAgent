---
name: new-case
description: "SuitAgent 法律智能分析系统案件创建工具。用于在 SuitAgent 系统中快速创建标准化的案件工作目录结构，包括案件管理文件、工作记录文件和完整的6层目录结构。支持案件编号验证、自动文件命名和模板复制。"
license: MIT
---

# SuitAgent 案件创建技能

## Overview

当需要在 SuitAgent 法律智能分析系统中创建新案件时，使用此技能。该技能会自动创建标准化的案件工作目录结构，复制模板文件，并设置案件管理基础文件。

## 核心功能

1. **案件目录结构创建**：自动创建包含6个标准子目录的案件工作区
2. **模板文件复制**：从 `.claude/memory/case-template/` 复制预定义模板
3. **案件管理文件**：自动创建并配置 `案件编号.yaml` 和 `案件编号.md` 文件
4. **占位符替换**：自动替换文件中的 `[案件编号]` 占位符为实际案件编号
5. **格式验证**：验证案件编号格式是否符合 `[YYYY]省[城市]民初/行初/刑初[序号]号` 标准
6. **冲突检测**：检查是否存在同编号案件，避免重复创建

## 创建目录结构

```
output/[案件编号]/
├── 01_案件分析/          # DocAnalyzer + Strategist 输出
├── 02_法律研究/          # IssueIdentifier + Researcher 输出
├── 03_证据材料/          # EvidenceAnalyzer 输出
├── 04_法律文书/          # Writer 输出（包含12个子目录）
│   ├── 起诉状/
│   ├── 答辩状/
│   ├── 代理词/
│   ├── 质证意见书/
│   ├── 申请书/
│   ├── 上诉状/
│   ├── 律师函/
│   ├── 调解协议/
│   ├── 保全申请/
│   ├── 执行申请/
│   ├── 法律意见书/
│   └── 其他文书/
├── 05_综合报告/          # Summarizer + Reporter 输出
└── 06_日程管理/          # Scheduler 输出
    ├── 日程安排/          # 案件时间线管理
    ├── 工时统计/          # 工作时间记录和报表
    └── 期限提醒/          # 法定期限预警
```

## 使用场景

### 场景1：接收新案件
当收到新的诉讼委托，需要创建案件工作区时：

**步骤**：
1. 确认案件编号（如 `[2025]京0105民初1234号`）
2. 调用 new-case 技能创建案件结构
3. 编辑案件管理文件，填写基本信息

### 场景2：批量案件导入
当需要为多个案件创建工作区时：

**步骤**：
1. 准备案件编号列表
2. 逐个调用 new-case 技能
3. 为每个案件配置特定信息

## 使用方式

### 通过 Claude Code 调用

在对话中直接说明需求：
- "请为案件 [2025]京0105民初1234号 创建工作区"
- "需要创建新的诉讼案件目录结构"
- "初始化案件 [2025]沪0108行初5678号"

系统会自动调用 new-case 技能并执行创建流程。

### 手动创建流程

如果需要手动控制创建过程：

#### 步骤1：准备案件编号
案件编号格式：`[YYYY]省[城市]民初/行初/刑初[序号]号`

**示例**：
- `[2025]京0105民初1234号` - 北京地区民事案件
- `[2025]沪0108行初5678号` - 上海地区行政案件
- `[2025]穗0105刑初9012号` - 广州地区刑事案件

#### 步骤2：检查模板
确保模板目录存在：
```bash
ls -la .claude/memory/case-template/
```

如果模板不存在，需要先创建模板：
```bash
mkdir -p .claude/memory/case-template/
# 在此目录下创建标准模板结构
```

#### 步骤3：创建案件工作区
```bash
# 检查是否已存在同编号案件
if [ -d "output/[案件编号]" ]; then
    echo "案件已存在，请使用不同编号"
    exit 1
fi

# 复制模板目录
cp -r ".claude/memory/case-template" "output/[案件编号]"

# 重命名案件文件
cd "output/[案件编号]"
if [ -f "[案件编号].yaml" ]; then
    mv "[案件编号].yaml" "[实际案件编号].yaml"
fi
if [ -f "[案件编号].md" ]; then
    mv "[案件编号].md" "[实际案件编号].md"
fi

# 替换占位符
find . -type f -name "*.yaml" -o -name "*.md" | \
    xargs sed -i "s/\[案件编号\]/[实际案件编号]/g"

echo "案件创建完成！"
```

## 工作流程图

```
[用户提供案件编号]
        ↓
[验证编号格式]
        ↓
[检查模板目录]
        ↓
[检查冲突（是否存在同编号）]
        ↓
[复制模板目录结构]
        ↓
[重命名案件管理文件]
        ↓
[更新文件内容占位符]
        ↓
[验证创建结果]
        ↓
[显示创建成功信息和操作指南]
```

## 案件编号规范

### 标准格式
`[YYYY]省[城市]民初/行初/刑初[序号]号`

### 组成要素

**YYYY**：年份（4位数字）
- 示例：2025、2024

**省/城市**：行政区划标识
- 省级：北京、上海、广东
- 直辖市：北京、上海、天津、重庆
- 城市：广州、深圳、杭州

**案件类型代码**：
- `民初`：民事一审案件
- `行初`：行政一审案件
- `刑初`：刑事一审案件
- `民终`：民事二审案件
- `行终`：行政二审案件

**序号**：案件流水号（4位数字，不足补零）

### 格式示例

| 类型 | 示例 | 说明 |
|------|------|------|
| 民事一审 | `[2025]京0105民初1234号` | 北京地区民事案件 |
| 行政一审 | `[2025]沪0108行初5678号` | 上海地区行政案件 |
| 刑事一审 | `[2025]穗0105刑初9012号` | 广州地区刑事案件 |
| 民事二审 | `[2025]京01民终3456号` | 北京地区民事二审 |

### 格式验证规则

1. 必须以 `[` 开头，`]` 结尾
2. 年份必须是4位数字（2000-2100）
3. 省市名称使用标准行政区划
4. 案件类型必须是：`民初`、`行初`、`刑初`、`民终`、`行终`、`刑终`
5. 序号必须是1-4位数字（建议4位，不足补零）

## 验证和错误处理

### 输入验证
- **空参数检查**：必须提供案件编号
- **格式验证**：检查编号是否符合标准格式
- **冲突检查**：验证是否已存在同编号案件

### 模板验证
- **模板目录存在性检查**：确保 `.claude/memory/case-template/` 存在
- **模板文件完整性检查**：验证模板包含必要文件

### 创建验证
- **目录复制成功性**：确认模板目录成功复制
- **文件重命名验证**：检查核心文件重命名成功
- **占位符替换确认**：验证所有占位符正确替换

### 错误处理示例

```bash
# 错误1：未提供案件编号
ERROR: 请提供案件编号

# 错误2：模板目录不存在
ERROR: 模板目录 .claude/memory/case-template/ 不存在
请先创建模板目录

# 错误3：案件已存在
ERROR: 目标目录 output/[案件编号] 已存在
请使用不同的案件编号

# 错误4：格式验证失败
WARNING: 案件编号格式可能不正确
建议格式：[YYYY]省[城市]民初/行初/刑初[序号]号
是否继续？(y/N)
```

## 下一步操作

案件创建成功后，需要完成以下配置：

### 1. 编辑案件管理文件（必需）
编辑 `[案件编号].yaml`，填写：
- 案件基本信息（当事人、案由等）
- 案件状态和阶段
- 关键时间节点
- 风险级别

### 2. 创建案件工作记录（必需）
编辑 `[案件编号].md`，记录：
- 案件初始情况
- 工作计划和时间安排
- 重要决策和变更
- 阶段性进展

### 3. 开始案件分析（可选）
使用 SuitAgent 工作流模板：
- **初始案件分析**：`initial_case_analysis`
- **新证据质证**：`evidence_review`
- **答辩意见起草**：`defense_drafting`
- **代理词起草**：`proxy_drafting`

## 最佳实践

### 1. 案件编号规范化
- 严格遵循标准格式
- 使用完整的行政区划名称
- 案件类型代码准确匹配案件性质

### 2. 模板管理
- 定期备份和更新 `.claude/memory/case-template/`
- 根据业务需要调整模板结构
- 保持模板文件的标准化

### 3. 文件组织
- 按案件编号严格命名
- 保持目录结构的一致性
- 及时更新案件状态和进度

### 4. 协作规范
- 所有Agent遵循统一的案件文件组织规范
- 上下文继承和增量更新
- 质量检查和文档同步

## 故障排除

### 问题1：模板复制失败
**现象**：提示模板目录不存在或复制失败
**解决方案**：
1. 检查 `.claude/memory/case-template/` 是否存在
2. 手动创建模板目录和必要文件
3. 验证目录权限

### 问题2：占位符替换不完整
**现象**：文件中的 `[案件编号]` 占位符未替换
**解决方案**：
```bash
# 手动替换
find output/[案件编号] -type f \( -name "*.yaml" -o -name "*.md" \) \
    -exec sed -i "s/\[案件编号\]/[实际编号]/g" {} \;
```

### 问题3：案件编号冲突
**现象**：提示案件已存在
**解决方案**：
1. 检查 `output/` 目录下的案件
2. 使用不同的案件编号
3. 或归档/删除已存在的案件

## 相关文件

### 输入文件
- `.claude/memory/case-template/` - 案件模板目录

### 输出文件
- `output/[案件编号]/` - 案件工作目录
- `output/[案件编号]/[案件编号].yaml` - 案件管理看板数据
- `output/[案件编号]/[案件编号].md` - 案件工作记录

### 相关技能
- `docx` - Word 文档处理
- `pdf` - PDF 文档处理
- `xlsx` - Excel 文档处理

## 版本历史

### v1.0 (当前版本)
- 初始版本发布
- 支持标准案件目录结构创建
- 支持模板复制和文件重命名
- 支持占位符替换和格式验证
- 支持冲突检测和错误处理

## 许可证

MIT License

## 维护者

SuitAgent 开发团队
